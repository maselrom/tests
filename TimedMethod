package com.javarush.test.polindromTest.TimedMethod;


import java.util.Timer;
import java.util.TimerTask;

/**
 * Created by roman_ma on 05.07.2016.
 */
public class Main
{
    public static final int COUNT = 3;
    public static final Long PERIOD = 1_000L;
    private static int curCount = 0;

    public static void main(String[] args) throws InterruptedException
    {
        int res = 0;
        TimerTask timerTask = new MyCountReseter();
        Timer timer = new Timer(true);
        timer.scheduleAtFixedRate(timerTask, 0, PERIOD);

        for (int i = 0; i < 300; i++)
        {
            if (timedMethod())
                res++;
            Thread.sleep(10);
        }
        System.out.println(res);

    }

    private static boolean timedMethod()
    {

        if (++curCount > COUNT)
            return false;
        else
            return true;
    }


    public static class MyCountReseter extends TimerTask
    {

        @Override
        public void run()
        {
            curCount = 0;
            System.out.println("here");
        }
    }
}
